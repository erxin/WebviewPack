import{af as e,ag as t,ah as l,_ as a,r as s,m as i,n as u,w as o,x as n,p as c,ai as r,t as d,N as v,aj as f,ak as _,al as p,am as m,j as h,an as g,F as y,y as b,ao as w,ap as k,R as x,aq as A,H as C,I as T,v as I,l as S,ar as L,L as B,V as R,z as O,A as U,aa as P,K as z,Q as E,s as N,as as M,at as q,a as j,au as D,av as Q,B as F,aw as Y,ax as G,ay as H,az as W,aA as K,J as V,M as J,aB as X,b as Z,aC as $,ae as ee,d as te,c as le,$ as ae,k as se,aD as ie,aE as ue,aF as oe,aG as ne,q as ce,aH as re,D as de,f as ve,g as fe,C as _e}from"./index-94f20d72.js";import{D as pe,T as me,a as he,v as ge,b as ye}from"./ti-store-expire.6111c689.js";import{b as be,_ as we,e as ke,f as xe}from"./login.e6bb16be.js";import{_ as Ae,a as Ce}from"./red-ring.277552e8.js";import{_ as Te}from"./ti-button.7fd4373f.js";import"./components-ti-keyboard-ti-keyboard.c73d8311.js";var Ie=/\s/;var Se=/^\s+/;function Le(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&Ie.test(e.charAt(t)););return t}(e)+1).replace(Se,""):e}var Be=NaN,Re=/^[-+]0x[0-9a-f]+$/i,Oe=/^0b[01]+$/i,Ue=/^0o[0-7]+$/i,Pe=parseInt;function ze(l){if("number"==typeof l)return l;if(e(l))return Be;if(t(l)){var a="function"==typeof l.valueOf?l.valueOf():l;l=t(a)?a+"":a}if("string"!=typeof l)return 0===l?l:+l;l=Le(l);var s=Oe.test(l);return s||Ue.test(l)?Pe(l.slice(2),s?2:8):Re.test(l)?Be:+l}const Ee=function(){return l.Date.now()};var Ne=Math.max,Me=Math.min;function qe(e,l,a){var s,i,u,o,n,c,r=0,d=!1,v=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function _(t){var l=s,a=i;return s=i=void 0,r=t,o=e.apply(a,l)}function p(e){var t=e-c;return void 0===c||t>=l||t<0||v&&e-r>=u}function m(){var e=Ee();if(p(e))return h(e);n=setTimeout(m,function(e){var t=l-(e-c);return v?Me(t,u-(e-r)):t}(e))}function h(e){return n=void 0,f&&s?_(e):(s=i=void 0,o)}function g(){var e=Ee(),t=p(e);if(s=arguments,i=this,c=e,t){if(void 0===n)return function(e){return r=e,n=setTimeout(m,l),d?_(e):o}(c);if(v)return clearTimeout(n),n=setTimeout(m,l),_(c)}return void 0===n&&(n=setTimeout(m,l)),o}return l=ze(l)||0,t(a)&&(d=!!a.leading,u=(v="maxWait"in a)?Ne(ze(a.maxWait)||0,l):u,f="trailing"in a?!!a.trailing:f),g.cancel=function(){void 0!==n&&clearTimeout(n),r=0,s=c=i=n=void 0},g.flush=function(){return void 0===n?o:h(Ee())},g}const je="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAACohjseAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAUtSURBVHgB7Vpdcts2EP5Ay3Zn+qfegDew8tyHSs20M31KfYI6J6h7gqQnSHqCxCew8tSZtrGUE1g5QZkT1H3oTKaWyC6WoEQCBAiCpOPp6JvRUATBBfYHi90FgT322ONDQmBgZJcY42PENNIYEV0lUiTIcIN/kIhTug6IwRjMFnhCTJzR37ih64r6vRIP8RQDYDgGr/AXXcae3W/E1/gCAyBCR2S/Y5q9rkpftsGfOYmxemdH4zUusz/wPToimEG5tuQkcIAF3d5oVH9AW0QGM++o7ZLGeJH92mjmDrIBYGl/jmsy8HxSKa2jMgQmaAuBR5X7FHPVfoZjLLLfAmgigEFyHj8qrcWq6UZ8g+X2eS7tkMnERHtn1iMWWmEZMd1fkzbP0RKtGFSe8bnWXNXeYZikGenOTMWMmdMt4xnPoQW8GWTNZTWuPMNbbRJThGPipJ23PW2jSS8G2f5NzRUDLiv3AicIhcBXTtq7fs90r2tDI4O8pkbkLW04oKikiqmlpzS5RP1s0Uus0V7BPu6Lypq1oHGjl26aPVk9Khs0D7ghBmUotiEmPqLnM3coxu+8p99IhXMHWJbfoYDhT9iioQxzioBOXfSdDLIZ5B6TmUEeVr1l07nFSnxnaG8QkBBiEtiE13e+BKbbhxvMyl5ch2ggfEnaeMd7ErntJm3cJVj4KjggLVqdznCxqFy7B2RyQq2TqGRmMpPIlLDklcx5KGvoxKAM18rpDoduonUcWoZkfFleV/oYbTHy7ch53WdsEieKiZhM9zFd59tO3ZgDv6vvo59SMH/FXnxJzEsf8KbN+ncyqOz8kYo5Y7ODIdkuzNXTkB4538ymysmcU2wqveuKGU5x0drJqJDsHE0TPkYsviQnBOXpMnbp3dGerjTtX+qS5vqNPmONNWvjX/y9/X/bi/YKuuXk12f9SdOuTdEMBlV04BUwV7YN0SOD6x2tFltTXBfZmBq8DU8u7wFivcFkMFQTfWowMibqp8W1jwajQA32yaAJPwYjHw3+z2AymN5NAO1E6P5aM/fIg7gf+hRMKIMjc+4mg4f3QIPhSPQGg0G17yTwQGXfycIDYgMlTfhk7Qq16ZwtkrmAj+c6oupogcMeGTzisn8BHwZlqPaq7oFPRn8GcBY9qXn7AUltte1/RcP0ACqDCG0Oi5puCTNFybgr2HZmE+rFJQ9UVzbY8L6zKr0itdh1P6xaQr6/7sol8hoRU54hnHc+SAQT5GtzXrQZ60NwzjZFx4S30pIXoYJPnu6uZCFK/yWKbeVDliw4L0ypT0pSdNj5XYOrC5/QchlRoTilksZD/GTr6zbRNZUH5AI/wBNyIBK7sgFpQHzrKMz2CLaGIzb9E3VyJX9jdmlZh7ooE7/CS7rYzvvqC7/S7NYkAE+z25pzxFf/wq/AS+r72EW7mcEFS+raOkipvKAmVHd0naAesd5Q2SIk48fWckVCPWfK+VnRmE2wNDcOKb3HzBjYRGz56VhW7lxHcQKnTcxJeKVL7GAy60LWj7zeIBS+R3E0l3KA4YJ3Pkie6jkR/tl8YByXhTsen6M4mgPPxROtEl4uy5manGgU5wiFeVw2rdxJzbX8nqZ1Rs/SW+MBdmut8glIm2xEw6q8prQDzoRPkVporkBQyYL3P8HO5UJRmVY6WCJ7N1FNe8VnJYIsQgb1gYFGcE1GSptc+pmUrPEwDTDTtRJWGRveBk67HNvtP+UKBp0VwM+jJtYPHHrAYBoswJHQreVzSqr/3KdT4z322KN//Afo3dpIshRY2QAAAABJRU5ErkJggg==",De=""+new URL("orange-occupy-bitmap-0d6d0ba4.svg",import.meta.url).href,Qe=""+new URL("placeholder_square-f2c1eaed.svg",import.meta.url).href,Fe=""+new URL("placeholder_round-7fab4b50.svg",import.meta.url).href,Ye=a({__name:"ti-image",props:{src:{type:String,required:!0},isSquare:{type:Boolean,default:!0},offLine:{type:Boolean,default:!1}},setup(e){const t=e,l=s(!1),a=s(!1),v=()=>{l.value=!0,a.value=!1},f=()=>{t.offLine||(l.value=!1,a.value=!0)};return(t,s)=>{const _=d;return i(),u(_,{class:"container"},{default:o((()=>[e.src&&!a.value?(i(),n("img",{key:0,class:"image-content","lazy-load":!0,src:e.src,onLoad:v,onError:f,mode:"widthFix"},null,40,["src"])):c("",!0),e.src||a.value?c("",!0):(i(),n("img",{key:1,class:"image-content","lazy-load":!0,src:De,onLoad:v,onError:f,mode:"widthFix"},null,32)),l.value?c("",!0):(i(),u(_,{key:2},{default:o((()=>[r(t.$slots,"default",{},(()=>[!l.value&&e.isSquare?(i(),n("img",{key:0,class:"image-placeholder","lazy-load":!0,src:Qe,mode:"widthFix"})):c("",!0),l.value||e.isSquare?c("",!0):(i(),n("img",{key:1,class:"image-placeholder","lazy-load":!0,src:Fe,mode:"widthFix"}))]),!0)])),_:3}))])),_:3})}}},[["__scopeId","data-v-849ca4a6"]]);function Ge(e){if(function(e){return null!=e}(e))return function(e){return/^(-)?\d+(\.\d+)?$/.test(e)}(e=String(e))?`${e}px`:e}const He=(e=300)=>new Promise((t=>setTimeout(t,e)));const We="l-ball";const Ke=a(_({name:We,props:{duration:{type:Number,default:600},offset:{type:[Number,Array],default:150},size:{type:[Number,String]},color:String},setup(e,{expose:t}){const l=g(),a=p({x:0,y:0}),[i,u]=function(){const e=s(!1);let t=null;return[e,()=>{e.value=!0,t&&clearTimeout(t),t=setTimeout((()=>{e.value=!1}),300)}]}(),[o,n]=function(e=600){const t=s([]);let l=null;return[t,()=>{l&&clearTimeout(l),l=setTimeout((()=>{t.value.every((e=>e.done))&&(t.value=[])}),2.5*e)}]}(e.duration),c=(e,t,l,a)=>{const s=t.x+(l.x-t.x)*e,i=t.y+(l.y-t.y)*e;return{x:s+(l.x-180+(a.x-l.x)*e-s)*e,y:i+(l.y+(a.y-l.y)*e-i)*e}},r=m((()=>{const{offset:t}=e;return Array.isArray(t)?t:[t,t]}));return h((()=>{He(150).then((()=>{(function(e,t={}){const l="boundingClientRect";let{context:a,needAll:s,type:i=l}=t;return new Promise(((t,u)=>{const o=v().in(a)[s?"selectAll":"select"](e),n=e=>{e?t(e):u("no rect")};i==l?o[i](n).exec():o[i]({node:!0,size:!0,rect:!0},n).exec()}))})(`.${We}-wrapper`,{context:l}).then((e=>{a.x=e.left+e.width/2,a.y=e.top+e.height/2}))}))})),t({action:async(t,l=a)=>{const s=+new Date,{x:i,y:d,touches:v}=t,{clientX:_,clientY:m}=v&&v[0]||{},h={x:i||_,y:d||m},g={x:h.x-l.x>.3*r.value[0]?-r.value[0]:r.value[0],y:-r.value[1]},y={x:l.x-h.x,y:l.y-h.y},b=p({ref:`l-ball-${s}`,time:s,data:null,style:(w={left:Ge(h.x),top:Ge(h.y),width:Ge(e.size),height:Ge(e.size),backgroundColor:e.color},Object.keys(w).filter((e=>void 0!==w[e]&&null!==w[e]&&""!==w[e])).map((e=>`${function(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}(e)}: ${w[e]};`)).join(" ")),done:!1});var w;o.value.push(b),h.x=0,h.y=0;let k=0,x=null;const A=[];var C;C={duration:0,timingFunction:"linear"},x=f({...C});for(let e=0;e<=30;e++){const t=e/30,{x:l,y:a}=c(t,h,g,y);let s=0;if(A.length>0){const e=A[A.length-1];s=Math.sqrt((l-e.x)**2+(a-e.y)**2),k+=s}A.push({x:l,y:a,d:s})}A.forEach((({x:t,y:l,d:a},s)=>{let i=a/k*e.duration||1;x.opacity(1-.91/30*s).translate(t,l).step({duration:i})})),await He(50);let T=e.duration;b.data=x.export(null),He(.52*T).then((()=>{u()})),He(2*T).then((()=>{b.done=!0,n()}))}}),{target:a,active:i,balls:o}}}),[["render",function(e,t,l,a,s,v){const f=d;return i(),u(f,{class:"l-ball-wrapper",ref:"l-ball-wrapper"},{default:o((()=>[(i(!0),n(y,null,b(e.balls,(e=>(i(),n(y,{key:e.time},[e.done?c("",!0):(i(),u(f,{key:0,class:"l-ball",ref_for:!0,ref:e.ref,style:w(e.style),animation:e.data},null,8,["style","animation"]))],64)))),128)),r(e.$slots,"default",{active:e.active},void 0,!0)])),_:3},512)}],["__scopeId","data-v-b3f08bc3"]]),Ve=""+new URL("pengren-96abe417.svg",import.meta.url).href,Je=""+new URL("icon-lock-05ac1f9d.svg",import.meta.url).href,Xe=a({__name:"ti-category",props:{scrollLeft:{type:Number,default:0},scrollInterval:{type:Number,default:200},threshold:{type:Number,default:5}},setup(e,{expose:t}){const l=e,a=s(0),n=s(!1),f=s(!1),_=s(0),p=s(0),m=s(`ti-${k(16)}`);x((()=>l.scrollLeft),(()=>{a.value=l.scrollLeft}));const g=qe((e=>{a.value=e.detail.scrollLeft,n.value=l.threshold<e.detail.scrollLeft,f.value=p.value+e.detail.scrollLeft<e.detail.scrollWidth-l.threshold}),300),y=()=>{n.value=!1},b=()=>{f.value=!1},w=e=>{let t=0;"left"==e?t=a.value-l.scrollInterval:"right"==e&&(t=a.value+l.scrollInterval);const s=_.value-p.value;a.value=Math.min(s,Math.max(t,0))},R=()=>{L((()=>{a.value=0;v().in(this).select(`#${m.value}`).fields({size:!0,scrollOffset:!0},(e=>{p.value=(null==e?void 0:e.width)||0,_.value=(null==e?void 0:e.scrollWidth)||0,_.value>p.value?f.value=!0:(n.value=!1,f.value=!1)})).exec()}))};return h((()=>{R(),window.addEventListener("resize",R)})),A((()=>{window.removeEventListener("resize",R)})),t({getScrollWidth:R}),(e,t)=>{const s=C(T("uni-icons"),be),v=d,_=B;return i(),u(v,{class:"ti-category-box"},{default:o((()=>[n.value?(i(),u(v,{key:0,class:"ti-category-left",onClick:t[0]||(t[0]=e=>w("left"))},{default:o((()=>[I(v,{class:"ti-category-btn"},{default:o((()=>[I(s,{type:"left",size:"14",color:"#100A05"})])),_:1})])),_:1})):c("",!0),I(_,{id:m.value,class:"ti-category","scroll-left":a.value,"scroll-x":"","enable-flex":"","scroll-with-animation":"","upper-threshold":l.threshold,"lower-threshold":l.threshold,onScrolltoupper:y,onScrolltolower:b,onScroll:S(g)},{default:o((()=>[r(e.$slots,"default",{},void 0,!0)])),_:3},8,["id","scroll-left","upper-threshold","lower-threshold","onScroll"]),f.value?(i(),u(v,{key:1,class:"ti-category-right",onClick:t[1]||(t[1]=e=>w("right"))},{default:o((()=>[I(v,{class:"ti-category-btn"},{default:o((()=>[I(s,{type:"right",size:"14",color:"#100A05"})])),_:1})])),_:1})):c("",!0)])),_:3})}}},[["__scopeId","data-v-50a73735"]]),Ze=a({__name:"dish-menu",props:{list:{type:Array,default:()=>[]},menuId:{type:Number,default:null},defaultIndex:{type:Number,default:0}},emits:["update:menuId"],setup(e,{emit:t}){const l=e,a=t,r=s(0),f=s(l.defaultIndex),_=s([]),p=s(),m=e=>{f.value=e,r.value=_.value.slice(0,e+1).reduce(((e,t)=>e+t),0)-(_.value[e]+100),a("update:menuId",l.list[e].category_id)};return x((()=>l.list),(async e=>{var t;if(!e||0==e.length)return;await L();const l=v().in(this);e.map(((e,t)=>{l.select(`#scroll-item-${t}`).boundingClientRect((e=>{if(!e)return;const l=_.value;l[t]=e.width+10,_.value=l})).exec()})),m(f.value),null==(t=p.value)||t.getScrollWidth()}),{deep:!0,immediate:!0}),(e,t)=>{const a=z,s=d,v=C(T("ti-category"),Xe);return i(),u(s,{class:"ti-dish-menu"},{default:o((()=>[l.list&&l.list.length>0?(i(),u(v,{key:0,ref_key:"scrollRef",ref:p,scrollLeft:r.value},{default:o((()=>[I(s,{class:"ti-menu-content"},{default:o((()=>[(i(!0),n(y,null,b(l.list,((e,t)=>(i(),u(s,{key:t,class:R(["ti-menu-item",{active:t==f.value}]),id:`scroll-item-${t}`,onClick:e=>m(t)},{default:o((()=>[I(a,{class:"ti-menu-title"},{default:o((()=>[O(U(e.name[S(P)()]||e.name_text),1)])),_:2},1024)])),_:2},1032,["id","class","onClick"])))),128))])),_:1})])),_:1},8,["scrollLeft"])):c("",!0)])),_:1})}}},[["__scopeId","data-v-1be6ac67"]]),$e=a({__name:"dish-category",props:{categoryId:{type:Number,default:null}},emits:["update:categoryId","update:isSpecial"],setup(e,{emit:t}){const l=E(),{categoryList:a}=N(l),r=t,v=s(),f=s(0),_=s(0),p=m((()=>{let e=(a.value.find((e=>e.category_id==f.value))||{}).child||[];return e&&e.length>0&&(e=[M].concat(e)),e})),g=m((()=>a.value.find((e=>e.category_id==f.value)))),w=m((()=>p.value.find((e=>e.category_id==_.value)))),k=e=>{var t;_.value=e,r("update:isSpecial",null==(t=w.value)?void 0:t.is_special),r("update:categoryId",_.value>0?_.value:f.value)};return x((()=>f.value),(()=>{var e,t;r("update:isSpecial",null==(e=g.value)?void 0:e.is_special),r("update:categoryId",f.value),p.value&&p.value.length>0&&(_.value=p.value[0].category_id,k(_.value)),null==(t=v.value)||t.getScrollWidth()})),h((()=>{null==l||l.getCategoryList()})),(e,t)=>{const l=d,s=C(T("ti-category"),Xe);return i(),u(l,{class:"ti-category-box"},{default:o((()=>[I(Ze,{list:S(a),menuId:f.value,"onUpdate:menuId":t[0]||(t[0]=e=>f.value=e)},null,8,["list","menuId"]),p.value&&p.value.length>0?(i(),u(l,{key:0,class:"ti-dish-secondary"},{default:o((()=>[I(s,{ref_key:"categoryRef",ref:v},{default:o((()=>[I(l,{class:"ti-secondary-box"},{default:o((()=>[(i(!0),n(y,null,b(p.value,((e,t)=>(i(),u(l,{key:t,class:R([{active:e.category_id==_.value},"ti-secondary-item"]),onClick:t=>k(e.category_id)},{default:o((()=>[O(U(e.name[S(P)()]||e.name_text),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1},512)])),_:1})):c("",!0)])),_:1})}}},[["__scopeId","data-v-e877a257"]]);function et(e){return q("order.Order/sendKitchen",e,{isLoading:!0,isMessage:!1})}const tt=a({__name:"goods-detail",props:{show:{type:Boolean,default:!1},goodsDetail:{type:Object,default:()=>({})}},emits:["update:show","success","cancel"],setup(e,{emit:t}){const l=j(),a=e,r=t,v=s({});s(!1);const f=s(!1),_=s(!1),p=s(!0),m=s({product_name:"",product_id:null,product_num:1,total_price:null,price:null,product_price:null,product_sku_id:null,attr:[],feed_ids:[],bag_price:0,delivery:D()?30:40,describe:null,is_buffet:0,limit_num:0,buffet_limit_num:0}),h=(e,t)=>m.value.attr[e]==t,g=()=>{p.value=!1},w=()=>{_.value=!1,p.value=!0};return x((()=>a.show),(()=>{a.show&&(async()=>{var e,t,l,s,i,u,o,n,c,r,d,f,_,p,h;v.value=a.goodsDetail,m.value.product_name=null==(e=v.value)?void 0:e.product_name,m.value.product_name_text=null==(t=v.value)?void 0:t.product_name_text,m.value.product_id=null==(l=v.value)?void 0:l.product_id,m.value.total_price=null==(s=v.value)?void 0:s.product_price,m.value.price=null==(i=v.value)?void 0:i.product_price,m.value.product_price=null==(u=v.value)?void 0:u.product_price,m.value.is_buffet=(null==(o=v.value)?void 0:o.is_buffet)||0,m.value.limit_num=null==(n=v.value)?void 0:n.limit_num,m.value.buffet_limit_num=null==(c=v.value)?void 0:c.buffet_limit_num,(null==(r=v.value)?void 0:r.sku.length)>0&&(null==(d=v.value)||d.sku.some((e=>{if(e.stock_num>0)return m.value.product_sku_id=e.product_sku_id,!0}))),(null==(f=v.value)?void 0:f.product_attr)&&(null==(_=v.value)?void 0:_.product_attr.length)>0&&(null==(p=v.value)||p.product_attr.map(((e,t)=>{(null==e?void 0:e.attribute_value)&&(null==e?void 0:e.attribute_value.length)>0?m.value.attr[t]=0:m.value.attr[t]=null}))),(null==(h=m.value)?void 0:h.feed_ids.length)>0&&(m.value.feed_ids=[])})()})),(e,t)=>{const s=C(T("ti-image"),Ye),k=d,x=z,A=C(T("ti-modal"),we),L=C(T("ti-loading"),Ae),B=V;return i(),n(y,null,[I(A,{show:a.show,title:S(F)("商品詳情"),cancelText:S(F)("取消"),confirmText:S(F)("確定"),confirmLoading:f.value,onCancel:t[1]||(t[1]=e=>r("cancel")),onConfirm:t[2]||(t[2]=e=>(async()=>{var e,t,a,s;const i={x:event.clientX,y:event.clientY};if(f.value)return;const u={...m.value};u.attr=u.attr.join(",");let o=[];if(m.value.product_sku_id&&(null==(e=v.value)?void 0:e.sku.length)>0){const e=null==(t=v.value)?void 0:t.sku.find((e=>e.product_sku_id==m.value.product_sku_id));u.price=parseFloat(null==e?void 0:e.product_price)||0,u.total_price=parseFloat(null==e?void 0:e.product_price)||0,o.push(null==e?void 0:e.spec_name)}m.value.attr&&m.value.attr.length>0&&m.value.attr.map(((e,t)=>{var l;const a=null==(l=v.value)?void 0:l.product_attr[t];(null==a?void 0:a.attribute_value)&&a.attribute_value[e]&&o.push(a.attribute_value[e])})),m.value.product_sku_id&&(null==(a=v.value)?void 0:a.sku)&&(null==(s=v.value)?void 0:s.sku.length)>0&&m.value.feed_ids.map((e=>{var t;const l=((null==(t=v.value)?void 0:t.feed)||[]).find((t=>t.product_feed_id==e));o.push(null==l?void 0:l.feed_name),u.price=H(u.price,null==l?void 0:l.price),u.total_price=H(u.total_price,null==l?void 0:l.price)})),u.describe=o.join(";"),u.delivery=D()?30:40,u.order_id=W(),u.table_id=K(),l.detailAddCart(u),r("cancel",!1),setTimeout((()=>{r("success",i)}),100)})())},{content:o((()=>[I(k,{class:"ti-dialog-content"},{default:o((()=>[I(k,{class:"ti-detail-box"},{default:o((()=>[I(k,{class:"ti-detail-image"},{default:o((()=>{var e,l;return[I(s,{src:S(Q)(null==(l=null==(e=v.value)?void 0:e.image[0])?void 0:l.file_path,117,88),onClick:t[0]||(t[0]=e=>{0!=v.value.image.length&&(_.value=!0)})},null,8,["src"])]})),_:1}),I(k,{class:"ti-detail-con"},{default:o((()=>[I(k,{class:"ti-detail-title text-ellipsis"},{default:o((()=>{var e,t;return[O(U((null==(e=v.value)?void 0:e.product_name[S(P)()])||(null==(t=v.value)?void 0:t.product_name_text)),1)]})),_:1}),I(k,{class:"ti-price-box"},{default:o((()=>[I(x,{class:"ti-detail-unit"},{default:o((()=>[O(U(S(F)("單價：")),1)])),_:1}),I(x,{class:"ti-detail-price"},{default:o((()=>{var e;return[O(U(S(Y)((null==(e=v.value)?void 0:e.product_price)||0)),1)]})),_:1}),I(x,{class:"ti-detail-subPrice"},{default:o((()=>{var e;return[O(U(S(G)((null==(e=v.value)?void 0:e.product_price)||0)),1)]})),_:1})])),_:1}),I(k,{class:"ti-price-box"},{default:o((()=>[I(x,{class:"ti-detail-unit"},{default:o((()=>[O(U(S(F)("單位：")),1)])),_:1}),I(x,{class:"ti-detail-price"},{default:o((()=>{var e,t;return[O(U((null==(e=v.value)?void 0:e.product_unit[S(P)()])||(null==(t=v.value)?void 0:t.product_unit_text)),1)]})),_:1})])),_:1})])),_:1})])),_:1}),I(k,{class:"ti-detail-specs"},{default:o((()=>[I(k,{class:"ti-specs-box"},{default:o((()=>{var e,t,l,a,s,r;return[(null==(e=v.value)?void 0:e.sku)&&(null==(t=v.value)?void 0:t.sku.length)>0?(i(),u(k,{key:0,class:"ti-specs-item"},{default:o((()=>[I(k,{class:"ti-specs-title"},{default:o((()=>[O(U(S(F)("規格")),1)])),_:1}),I(k,{class:"ti-specs-child"},{default:o((()=>{var e;return[(i(!0),n(y,null,b(null==(e=v.value)?void 0:e.sku,(e=>(i(),u(k,{key:e.product_sku_id,class:R([{active:e.product_sku_id==m.value.product_sku_id,disabled:e.stock_num<=0},"ti-child-item"]),onClick:t=>(e=>{e.stock_num<=0||m.value.product_sku_id!=e.product_sku_id&&(m.value.product_sku_id=e.product_sku_id)})(e)},{default:o((()=>[I(x,{class:"ti-child-name"},{default:o((()=>[O(U(e.spec_name_i18n[S(P)()]||e.spec_name_text),1)])),_:2},1024),I(x,{class:"ti-child-price"},{default:o((()=>[O(U(S(Y)((null==e?void 0:e.product_price)||0)),1)])),_:2},1024),I(x,{class:"ti-child-subPrice"},{default:o((()=>[O(U(S(G)((null==e?void 0:e.product_price)||0)),1)])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))]})),_:1})])),_:1})):c("",!0),(null==(l=v.value)?void 0:l.product_attr)&&(null==(a=v.value)?void 0:a.product_attr.length)>0?(i(),u(k,{key:1},{default:o((()=>{var e;return[(i(!0),n(y,null,b(null==(e=v.value)?void 0:e.product_attr,((e,t)=>(i(),u(k,{key:t,class:"ti-specs-item"},{default:o((()=>[I(k,{class:"ti-specs-title"},{default:o((()=>[O(U(e.attribute_name_i18n[S(P)()]||e.attribute_name_text),1)])),_:2},1024),I(k,{class:"ti-specs-child"},{default:o((()=>[(i(!0),n(y,null,b(null==e?void 0:e.attribute_value_i18n,((l,a)=>(i(),u(k,{key:a,class:R([{active:h(t,a)},"ti-child-item"]),onClick:e=>((e,t)=>{m.value.attr[e]=t})(t,a)},{default:o((()=>[I(x,{class:"ti-child-name"},{default:o((()=>[O(U(l[S(P)()]||(null==e?void 0:e.attribute_value_text[a])),1)])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])),_:2},1024)])),_:2},1024)))),128))]})),_:1})):c("",!0),(null==(s=v.value)?void 0:s.feed)&&(null==(r=v.value)?void 0:r.feed.length)>0?(i(),u(k,{key:2,class:"ti-specs-item"},{default:o((()=>[I(k,{class:"ti-specs-title"},{default:o((()=>[O(U(S(F)("加料")),1)])),_:1}),I(k,{class:"ti-specs-child"},{default:o((()=>{var e;return[(i(!0),n(y,null,b(null==(e=v.value)?void 0:e.feed,(e=>(i(),u(k,{key:e.product_feed_id,class:R([{active:(m.value.feed_ids||[]).indexOf(e.product_feed_id)>-1,disabled:e.stock_num<=0},"ti-child-item"]),onClick:t=>(e=>{if(e.stock_num<=0)return;const t=m.value.feed_ids.indexOf(e.product_feed_id);t>=0?m.value.feed_ids.splice(t,1):m.value.feed_ids.push(e.product_feed_id)})(e)},{default:o((()=>[I(x,{class:"ti-child-name"},{default:o((()=>[O(U(e.feed_name_i18n[S(P)()]||e.feed_name_text),1)])),_:2},1024),I(x,{class:"ti-child-price"},{default:o((()=>[O(U(S(Y)((null==e?void 0:e.price)||0)),1)])),_:2},1024),I(x,{class:"ti-child-subPrice"},{default:o((()=>[O(U(S(G)((null==e?void 0:e.price)||0)),1)])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))]})),_:1})])),_:1})):c("",!0)]})),_:1})])),_:1})])),_:1})])),_:1},8,["show","title","cancelText","confirmText","confirmLoading"]),I(A,{show:_.value,isCancelShow:!1,confirmText:S(F)("退出"),onConfirm:w},{content:o((()=>{var e,t;return[p.value?(i(),u(L,{key:0})):c("",!0),I(B,{class:"bigImg",src:S(Q)(null==(t=null==(e=v.value)?void 0:e.image[0])?void 0:t.file_path,250,250),mode:"scaleToFill",onLoad:g},null,8,["src"])]})),_:1},8,["show","confirmText"])],64)}}},[["__scopeId","data-v-fbbb3be8"]]),lt=a({__name:"cart-number",props:{productItem:{type:Object,default:()=>({})},isOverTime:{type:Boolean,default:!1},isOrderOverTime:{type:Boolean,default:!1},buyContinue:{type:Boolean,default:!1}},setup(e){const t=j(),{myCartList:l}=N(t),a=e;s(!1);const n=async e=>{var s,i,u,o,n,c,r,d,v;const f=null==l?void 0:l.value.filter((e=>e.product_id===a.productItem.product_id));let _=0;for(let t=0;t<f.length;t++)_+=f[t].product_num;if(_>=a.productItem.limit_num&&0!=a.productItem.limit_num&&"up"==e&&0==a.productItem.is_buffet)return uni.showToast({title:F("已限購"),icon:"none"});if(1==a.productItem.is_buffet&&_>=a.productItem.buffet_limit_num&&0!=a.productItem.buffet_limit_num&&"up"==e)return uni.showToast({title:F("已限購"),icon:"none"});if(a.isOrderOverTime&&1==(null==(s=a.productItem)?void 0:s.is_buffet)&&"up"==e&&1!=a.isOverTime)return void X("buffet_remain",F("點餐時間已到，無法繼續下單"));if(0==a.buyContinue&&1==a.isOverTime&&"up"==e)return void X("buffet_remain",F("用餐時間已到，無法繼續下單"));if(1==a.isOverTime&&1==(null==(i=a.productItem)?void 0:i.is_buffet)&&"up"==e)return void X("buffet_remain",F("自助餐时间已到达，自助餐商品不可继续下单"));const p={product_id:null==(u=a.productItem)?void 0:u.product_id,product_num:null==(o=a.productItem)?void 0:o.product_num,price:null==(n=a.productItem)?void 0:n.price,describe:null==(c=a.productItem)?void 0:c.describe,attr:null==(r=a.productItem)?void 0:r.attr,product_sku_id:null==(d=a.productItem)?void 0:d.product_sku_id,feed_ids:null==(v=a.productItem)?void 0:v.feed_ids,type:e};t.changeCartData(p)};return(t,l)=>{const a=d;return i(),u(a,{class:"ti-number-box",onClick:l[2]||(l[2]=J((()=>{}),["stop"]))},{default:o((()=>[I(a,{class:"ti-number-btn ti-number-minus",disabled:!1,onClick:l[0]||(l[0]=e=>n("down"))},{default:o((()=>[I(a,{class:"ti-number-minus-reduce"})])),_:1}),I(a,{class:"ti-number-input"},{default:o((()=>[O(U(e.productItem.product_num),1)])),_:1}),I(a,{class:"ti-number-btn ti-number-plus",disabled:!1,onClick:l[1]||(l[1]=e=>n("up"))},{default:o((()=>[I(a,{class:"ti-number-plus-add"}),I(a,{class:"ti-number-plus-add2"})])),_:1})])),_:1})}}},[["__scopeId","data-v-3c56d06c"]]),at=a({__name:"dish-car-ordering-list",props:{isOverTime:{type:Boolean,default:!1},isOrderOverTime:{type:Boolean,default:!1},buyContinue:{type:Boolean,default:!1}},emits:["success","change","sendkitchenFail","close"],setup(e,{emit:t}){const l=j(),{myCartList:a,cartTotalQuantity:r,cartTotalAmount:v}=N(l),f=Z();N(f);const _=e,p=t,m=s(!1);s(),s(),s({table_id:""});const h=async e=>{try{m.value=!0;const e=await et({table_id:K(),add_product_arr:a.value});uni.showToast({title:F(e.msg),icon:"none"}),setTimeout((()=>{p("success"),l.clearCartData()}),200)}catch(t){p("sendkitchenFail",t)}finally{m.value=!1}};return(e,t)=>{const l=d,s=z,f=B,g=C(T("ti-button"),Te),w=C(T("ti-empty-data"),ke);return i(),u(l,{class:"ti-shop-list-box"},{default:o((()=>{var e,d;return[(null==(e=S(a))?void 0:e.length)>0?(i(),u(l,{key:0,class:"ti-shop-list"},{default:o((()=>[I(l,null,{default:o((()=>[I(l,{class:"ti-cart-shop-head"},{default:o((()=>[I(l,{class:"ti-shop-head-title"},{default:o((()=>[O(U(S(F)("商品名稱")),1)])),_:1}),I(l,{class:"ti-shop-head-money"},{default:o((()=>[O(U(S(F)("單價")),1)])),_:1}),I(l,{class:"ti-shop-head-num"},{default:o((()=>[O(U(S(F)("數量")),1)])),_:1}),I(l,{class:"ti-shop-head-money yx-shop-head-price"},{default:o((()=>[O(U(S(F)("小計")),1)])),_:1})])),_:1})])),_:1}),I(l,{class:"ti-scroll-box"},{default:o((()=>[I(f,{class:"ti-shop-scroll","scroll-y":""},{default:o((()=>[I(l,{class:"ti-shop-box"},{default:o((()=>[(i(!0),n(y,null,b(S(a),((e,t)=>(i(),u(l,{class:"ti-shop-item",key:e},{default:o((()=>[I(l,{class:"ti-shop-item-box"},{default:o((()=>[I(l,{class:"ti-shop-box"},{default:o((()=>[I(l,{class:"ti-shop-body-top"},{default:o((()=>[I(l,{class:"ti-shop-title text-ellipsis"},{default:o((()=>[O(U((null==e?void 0:e.product_name[S(P)()])||(null==e?void 0:e.product_name_text)),1)])),_:2},1024),I(l,{class:"ti-shop-spec"},{default:o((()=>{return[O(U((t=null==e?void 0:e.describe,l=S($)(),t.split(";").filter((e=>""!==e.trim())).map((e=>JSON.parse(e))).map((e=>e[l])).join(";"))),1)];var t,l})),_:2},1024)])),_:2},1024),I(l,{class:"ti-shop-body-money yx-shop-body-pirce"},{default:o((()=>[I(s,{class:"ti-shop-price"},{default:o((()=>[O(U(S(Y)((null==e?void 0:e.price)||0)),1)])),_:2},1024),I(s,{class:"ti-shop-subPrice"},{default:o((()=>[O(U(S(G)((null==e?void 0:e.price)||0)),1)])),_:2},1024)])),_:2},1024),I(l,{class:"ti-shop-body-number"},{default:o((()=>[I(lt,{buyContinue:_.buyContinue,isOverTime:_.isOverTime,isOrderOverTime:_.isOrderOverTime,productItem:e},null,8,["buyContinue","isOverTime","isOrderOverTime","productItem"])])),_:2},1024),I(l,{class:"ti-shop-total-money"},{default:o((()=>[I(s,{class:"ti-shop-price"},{default:o((()=>[O(U(S(Y)((null==e?void 0:e.total_price)||0)),1)])),_:2},1024),I(s,{class:"ti-shop-subPrice"},{default:o((()=>[O(U(S(G)((null==e?void 0:e.total_price)||0)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1}),I(l,{class:"ti-content-bottom"},{default:o((()=>[I(l,{class:"ti-car-shop-bottom"},{default:o((()=>[I(l,{class:"ti-shop-bottom-item"},{default:o((()=>[I(l,null,{default:o((()=>[I(s,{class:"ti-shop-bottom-text"},{default:o((()=>[O(U(S(F)("共")+(S(r)||0)+S(F)("件")),1)])),_:1})])),_:1}),I(l,null,{default:o((()=>[I(s,{class:"ti-shop-bottom-text"},{default:o((()=>[O(U(S(F)("商品金額：")),1)])),_:1}),I(s,{class:"ti-shop-bottom-price"},{default:o((()=>[O(U(S(Y)(S(v)||0)),1)])),_:1}),I(s,{class:"ti-shop-bottom-subPrice"},{default:o((()=>[O(U(S(G)(S(v)||0)),1)])),_:1})])),_:1})])),_:1})])),_:1}),I(l,{class:"bottom-button"},{default:o((()=>[I(g,{title:S(F)("退出"),onClick:t[0]||(t[0]=e=>p("close")),class:"close-button"},null,8,["title"]),I(g,{title:S(F)("確認下單"),loading:m.value,type:"primary",onClick:h},null,8,["title","loading"])])),_:1})])),_:1})])),_:1})):c("",!0),(null==(d=S(a))?void 0:d.length)<=0?(i(),u(l,{key:1,class:"ti-empty-data-box"},{default:o((()=>[I(w,{title:S(F)("當前無待下單商品")},null,8,["title"]),I(g,{title:S(F)("退出"),onClick:t[1]||(t[1]=e=>p("close"))},null,8,["title"])])),_:1})):c("",!0)]})),_:1})}}},[["__scopeId","data-v-53fd70d9"]]),st=a({__name:"dish-car-ordered-list",emits:["close"],setup(e,{emit:t}){const l=Z(),{userInfo:a}=N(l),r=t,v=s([]),f=s(""),_=s();let p=0;const m=s(!1),g=async()=>{try{m.value=!0;const t=await(e={table_id:K()},q("order.Order/getSendKitchen",e));v.value=t.data.list||[],f.value=t.data.total_price;for(let e=0;e<t.data.list.length;e++)for(let l=0;l<t.data.list[e].plist.length;l++)p+=t.data.list[e].plist[l].num||t.data.list[e].plist[l].total_num;_.value=p}catch(t){}finally{m.value=!1}var e},w=e=>F(0===e?"製作中":1===e?"已完成":"未知");return h((()=>{g()})),(e,t)=>{const l=C(T("ti-loading"),Ae),s=d,p=z,h=B,g=C(T("ti-button"),Te),k=C(T("ti-empty-data"),ke);return i(),u(s,{class:"ti-shop-list-box"},{default:o((()=>[m.value?(i(),u(l,{key:0})):c("",!0),Object.keys(v.value).length>0?(i(),u(s,{key:1,class:"ti-shop-list"},{default:o((()=>[I(s,{class:"ti-scroll-box"},{default:o((()=>[I(h,{class:"ti-shop-scroll","scroll-y":""},{default:o((()=>[(i(!0),n(y,null,b(v.value,((e,t)=>(i(),u(s,{class:"ti-shop-item",key:t},{default:o((()=>[I(s,{class:"ti-shop-time-top"}),I(s,{class:"ti-shop-time-box"},{default:o((()=>[O(U(e.date+" "+S(F)("下單")),1)])),_:2},1024),(i(!0),n(y,null,b(e.plist,((t,l)=>(i(),u(s,{key:l},{default:o((()=>[I(s,{class:"ti-shop-item-box"},{default:o((()=>[I(s,{class:"ti-shop-box"},{default:o((()=>[I(s,{class:"ti-shop-body-top"},{default:o((()=>[I(s,{class:"ti-shop-title text-ellipsis"},{default:o((()=>[O(U(t.product_name_text||t.name_text||t.buffet_name_text),1)])),_:2},1024),t.product_attr||t.customer_type_name_text?(i(),u(s,{key:0,class:"ti-shop-spec"},{default:o((()=>[O("("+U(t.product_attr||t.customer_type_name_text)+")",1)])),_:2},1024)):c("",!0)])),_:2},1024),I(s,{class:"ti-shop-body-money yx-shop-body-pirce"},{default:o((()=>[I(p,{class:"ti-shop-price"},{default:o((()=>[O(U(S(Y)((null==t?void 0:t.product_price)||(null==t?void 0:t.price)||0)),1)])),_:2},1024),I(p,{class:"ti-shop-subPrice"},{default:o((()=>[O(U(S(G)((null==t?void 0:t.product_price)||(null==t?void 0:t.price)||0)),1)])),_:2},1024)])),_:2},1024),"1"==S(a).kitchen.is_open?(i(),u(s,{key:0,class:"ti-shop-body-state"},{default:o((()=>[I(s,{class:"ti-shop-body-state-left"},{default:o((()=>[null!=t.finish_num&&1==t.is_show_kitchen?(i(),u(s,{key:0,class:"ti-state-left"},{default:o((()=>[O(U(null!=t.finish_num?t.finish_num:t.num),1)])),_:2},1024)):2==t.is_show_kitchen?(i(),u(s,{key:1,class:"ti-state-left"},{default:o((()=>[O(U(t.total_num||t.num),1)])),_:2},1024)):c("",!0),null!=t.finish_num?(i(),u(s,{key:2,class:"ti-state-line"},{default:o((()=>[O("/")])),_:1})):c("",!0),I(s,{class:"ti-state-right"},{default:o((()=>[O(U(t.total_num||t.num),1)])),_:2},1024)])),_:2},1024),I(s,{class:"ti-shop-body-state-right"},{default:o((()=>[null!=t.finish_num&&1==t.is_show_kitchen?(i(),u(s,{key:0,class:"ti-state-text"},{default:o((()=>[O(U(w(null!=t.finish_num?t.kitchen_status:t.is_comb)),1)])),_:2},1024)):(i(),u(s,{key:1,class:"ti-state-text"},{default:o((()=>[O(U(w(1)),1)])),_:1}))])),_:2},1024)])),_:2},1024)):(i(),u(s,{key:1,class:"ti-shop-body-state yx-padding-left"},{default:o((()=>[I(s,{class:"ti-shop-body-state-left"},{default:o((()=>[I(s,{class:"ti-state-right"},{default:o((()=>[O(U(t.total_num||t.num),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)),I(s,{class:"ti-shop-body-money"},{default:o((()=>[I(p,{class:"ti-shop-price"},{default:o((()=>[O(U(S(Y)((null==t?void 0:t.total_product_price)||(null==t?void 0:t.total_price)||0)),1)])),_:2},1024),I(p,{class:"ti-shop-subPrice"},{default:o((()=>[O(U(S(G)((null==t?void 0:t.total_product_price)||(null==t?void 0:t.total_price)||0)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024),l!=e.length-1?(i(),u(s,{key:0,class:"ti-shop-item-box-bottom-border"})):c("",!0)])),_:2},1024)))),128))])),_:2},1024)))),128))])),_:1})])),_:1}),I(s,{class:"ti-content-bottom"},{default:o((()=>[I(s,{class:"ti-car-shop-bottom"},{default:o((()=>[I(s,{class:"ti-shop-bottom-item"},{default:o((()=>[I(s,null,{default:o((()=>[I(p,{class:"ti-shop-bottom-text"},{default:o((()=>[O(U(S(F)("共")+(_.value||0)+S(F)("件")),1)])),_:1})])),_:1}),I(s,null,{default:o((()=>[I(p,{class:"ti-shop-bottom-text"},{default:o((()=>[O(U(S(F)("商品金額：")),1)])),_:1}),I(p,{class:"ti-shop-bottom-price"},{default:o((()=>[O(U(S(Y)(f.value||0)),1)])),_:1}),I(p,{class:"ti-shop-bottom-subPrice"},{default:o((()=>[O(U(S(G)(f.value||0)),1)])),_:1})])),_:1})])),_:1})])),_:1}),I(g,{title:S(F)("退出"),onClick:t[0]||(t[0]=e=>r("close")),style:{}},null,8,["title"])])),_:1})])),_:1})):c("",!0),Object.keys(v.value).length<=0?(i(),u(s,{key:2,class:"ti-empty-data-box"},{default:o((()=>[0==m.value?(i(),u(k,{key:0,title:S(F)("當前無已下單商品")},null,8,["title"])):c("",!0),0==m.value?(i(),u(g,{key:1,title:S(F)("退出"),onClick:t[1]||(t[1]=e=>r("close"))},null,8,["title"])):c("",!0)])),_:1})):c("",!0)])),_:1})}}},[["__scopeId","data-v-e4a628d4"]]),it=a({__name:"goods-not-enough",props:{show:{type:Boolean,default:!1},productList:{type:Array,default:[]}},emits:["update:show","confirm"],setup(e,{emit:t}){const l=e,a=t,s=()=>{a("confirm")};return(t,c)=>{const r=z,v=d,f=B,_=C(T("ti-modal"),we);return i(),u(_,{class:"ti-action-tip",show:l.show,isCancelShow:!1,title:t.$t("温馨提示"),confirmText:t.$t("確定"),onCancel:c[0]||(c[0]=e=>a("update:show",!1)),onConfirm:s},{content:o((()=>[I(v,{class:"ti-dialog-content"},{default:o((()=>[I(v,{class:"ti-detail-box"},{default:o((()=>[I(r,{class:"ti-detail-des"},{default:o((()=>[O(U(t.$t("商品庫存不足，請重新選擇")),1)])),_:1})])),_:1}),I(v,{class:"ti-detail-specs"},{default:o((()=>[I(f,{"scroll-y":""},{default:o((()=>[(i(!0),n(y,null,b(e.productList,((e,t)=>(i(),u(v,{class:"ti-specs-box"},{default:o((()=>[I(v,{class:"ti-specs-item"},{default:o((()=>[I(v,{class:"ti-specs-title"},{default:o((()=>[O(U(e.product_name_text),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),256))])),_:1})])),_:1})])),_:1})])),_:1},8,["show","title","confirmText"])}}},[["__scopeId","data-v-3517e8fd"]]),ut=a({__name:"dish-list",emits:["success","goodsDetail"],setup(e,{expose:t,emit:l}){ee((e=>({"6f35fd0b":We.value,"3ae3bdda":Xe.value})));const a=Z(),r=te(),f=le(),_=E(),p=j(),{myCartList:m,cartTotalQuantity:g,cartTotalAmount:w}=N(p),{isBuffet:k}=N(le()),{userInfo:A}=N(a),M=l,q=s([]),D=s(!1),H=s(!1),W=s({category_id:null,is_special:null,list_rows:15,page:1});s(!0);const J=s(!1),X=s({}),$=s(!1),fe=s(!1),_e=s(!1),pe=s(0),me=s(0),he=s(!1),ge=s(!1),ye=s(!1),be=s(!1),Ie=s(""),Se=s(!1);s();const Le=s(),Be=s([]),Re=s(""),Oe=s([]),Ue=s([]),Pe=s(!1),ze=s(!0),Ee=s(!0),Ne=s(),Me=s(),qe=s(!1);s({});const De=s(!0),Qe=s(),Fe=s(!1),Ge=s(!1),He=s(!1),We=s("0px"),Xe=s("0px"),Ze=s(0),lt=s(1);let ut=null;const ot=()=>{("1"===ce("client_voice").value&&ce("client_voice").time>ce("server_voice").time||"1"===ce("server_voice").value&&(null==ce("client_voice").time||ce("server_voice").time>ce("client_voice").time))&&(ut=de(),ut.src="/static/new.mp3",ut.autoplay=!1,ut.loop=!1,ut.play(),ut.onPlay((()=>{})),ut.onEnded((()=>{ut.destroy()})))},nt=(e,t,l)=>{gt(e+" "+t+" "+l)},ct=(e,t)=>{_e.value=!0,Re.value=e,Oe.value=t},rt=(e,t=Be.value)=>t.some((t=>t.product_id===e&&1===t.is_send_kitchen)),dt=(e,t=Be.value)=>{const l=t.find((t=>t.product_id===e));return l?l.total_num:0},vt=(e,t=Be.value)=>{const l=t.find((t=>t.product_id===e));return l?l.finish_num:0},ft=()=>{v().in(this).select(".content-gridview").fields({size:!0},(e=>{const t=re(180,4,e.width);lt.value=t;const l=(e.width-180*t)/(2*t);We.value=2*l+"px",Xe.value=`${l}px`,Ze.value=e.width})).exec()},_t=e=>{0!=De.value?(Le.value.action(e),M("success")):be.value=!0},pt=()=>{M("success")},mt=()=>{H.value&&(D.value||(W.value.page++,yt()))},ht=()=>{J.value=!1},gt=e=>{ye.value=!0,Ie.value=e},yt=async(e=!0)=>{try{e&&(D.value=!0);const t=await(null==r?void 0:r.getGoodsList(W.value));q.value=1==W.value.page?(null==t?void 0:t.list)||[]:q.value.concat((null==t?void 0:t.list)||[]),H.value=(null==t?void 0:t.last_page)>(null==t?void 0:t.current_page)}catch(t){uni.showToast({title:t.toString(),icon:"none",duration:3e3})}finally{D.value=!1}},bt=()=>{Qe.value=!0,ze.value=!0},wt=async()=>{if(m.value.length>0)try{He.value=!0;const e=await et({table_id:K(),add_product_arr:m.value});uni.showToast({title:F(e.msg),icon:"none"}),p.clearCartData(),setTimeout((()=>{M("success"),Qe.value=!0,ze.value=!1}),300)}catch(e){xt(e)}finally{He.value=!1}else Qe.value=!0,ze.value=!1},kt=(e,t)=>{e||(Qe.value=!1)},xt=e=>{-32==e.code?nt(F("單次僅可下單"),e.data.value,F("個數量，請分多次下單")):-31==e.code?nt(F("剩余"),Math.ceil(e.data.value/60),F("分鐘即可繼續下單")):0==e.code&&e.data.length>0||-14==e.code?ct(F("以下商品庫存不足，請刪除後再下單"),e.data):-11==e.code?ct(F("以下商品超出限購數量，請在限購數量內下單"),e.data):-33==e.code?ct(F("以下商品價格有變動，請覈對後再下單"),e.data):"request:fail"==e.errMsg||"request:fail"==e.errmsg?(be.value=!0,Ie.value="當前網絡異常，請聯繫服務員"):0==e.data.length&&-10001!=e.code||-12==e.code?Ee.value||0==Se.value?(gt(F("自助餐时间已到达，自助餐商品不可继续下单")),ot()):(gt(F("用餐時間已到，無法繼續下單")),ot()):(e.errMsg||e.msg)&&uni.showToast({title:e.msg||e.errMsg,icon:"none"})},At=async()=>{Pe.value=!1},Ct=e=>{ze.value=e},Tt=()=>{ze.value=!1},It=()=>{Fe.value=!1,(async()=>{var e,t;await(null==a?void 0:a.getUserInfo(!0));try{const l=await(null==f?void 0:f.getTableInfoAsync(!0));30===l.data.status?null==f||f.openTablePage(null==(t=null==(e=l.data)?void 0:e.order)?void 0:t.is_buffet):ve({url:"/pages/index/index"})}catch(l){}})()};return h((()=>{ae("globalLock",(e=>{he.value=1==e})),ae("clearLock",(e=>{ge.value=1==e})),ae("sendHead",(e=>{const t=-1!=parseInt(e.buffet.buffet_expired_time);if(Ee.value=1==e.buffet.is_buy_continue,!t)return Se.value=!1,void(qe.value=!1);const l=e.buffet.buffet_remaining_time,a=60*parseInt(e.buffet.minute);l<=a&&Ne.value>=a&&(pe.value=e.buffet.minute,$.value=!0,ot()),Ne.value=l;const s=Se.value;if(Se.value=0==e.buffet.buffet_remaining_time,Se.value!=s&&1==Se.value&&($.value=!0,ot()),1==e.buffet.is_remain_continue&&0!=e.buffet.remain_continue_time){const t=e.buffet.buffet_order_remaining_time,l=60*parseInt(e.buffet.remain_continue_notice_time);t<=l&&Me.value>=l&&(me.value=e.buffet.remain_continue_notice_time,fe.value=!0,ot()),Me.value=t;const a=qe.value;qe.value=0==e.buffet.buffet_order_remaining_time,qe.value!=a&&1==qe.value&&1!=Se.value&&(fe.value=!0,ot())}})),ae("buffet_remain",(e=>{gt(e)})),ae("quota",(e=>{nt(F("單次僅可下單"),e,F("個數量，請分多次下單"))})),ae("goodsListRefresh",(async()=>{try{if(D.value)return;await(null==_?void 0:_.getCategoryList(!0)),H.value=!1,W.value.page=1,D.value=!0;const e={...W.value};await(null==r?void 0:r.getGoodsBaseList(e,!0)),1==k.value&&await(null==r?void 0:r.getGoodsBuffetList(e,!0)),yt()}catch(e){}})),ae("languageRefresh",(async()=>{try{null==_||_.getCategoryList(!0)}catch(e){}})),ae("broadcastReloadGoodsList",(()=>{q.value=[],W.value.page=1,H.value=!1,yt(!1)})),ae("sendProductList",(e=>{Be.value=e})),ae("isConnect",(e=>{De.value=e}))})),x((()=>De.value),((e,t)=>{0==e||(Fe.value=!0,p.clearCartData())})),x((()=>g.value),(()=>{g.value>0?Ge.value=!0:Ge.value=!1}),{immediate:!0}),x((()=>W.value.category_id),(()=>{H.value=!1,W.value.page=1,yt()})),se((()=>{ie("globalLock"),ie("closeShowLanguage"),ie("buffet_remain"),ie("goodsListRefresh"),ie("sendProductList"),ie("isConnect"),ie("broadcastReloadGoodsList"),ie("sendHead")})),t({handleSuccess:pt}),(e,t)=>{const l=C(T("ti-loading"),Ae),a=d,s=C(T("ti-image"),Ye),r=V,v=z,f=C(T("ti-empty-data"),ke),_=ue("RecycleScroller"),h=C(T("ti-button"),Te),k=C(T("l-ball"),Ke),x=C(T("ti-drawer"),xe),E=C(T("ti-modal"),we),N=B;return i(),n(y,null,[I(a,{class:"ti-dish-box"},{default:o((()=>[I($e,{categoryId:W.value.category_id,"onUpdate:categoryId":t[0]||(t[0]=e=>W.value.category_id=e),isSpecial:W.value.is_special,"onUpdate:isSpecial":t[1]||(t[1]=e=>W.value.is_special=e)},null,8,["categoryId","isSpecial"]),I(a,{class:"ti-dish-list"},{default:o((()=>[D.value&&1==W.value.page?(i(),u(l,{key:0})):(i(),u(_,{key:1,"item-secondary-size":Ze.value/lt.value,"item-size":235,items:q.value,"grid-items":lt.value,"key-field":"product_id",class:"content-gridview",prerender:6,onScrollEnd:mt,onResize:ft,onVisible:ft},{default:o((({item:e})=>[I(a,{class:"ti-goods-item left",onClick:t=>(async(e,t)=>{var l,a;0==De.value&&(be.value=!0);const s=(null==m?void 0:m.value.filter((e=>e.product_id===t.product_id))).reduce(((e,t)=>e+t.product_num),0);if(t.product_stock<=0)return uni.showToast({title:F("已售罄"),icon:"none"});if(1==t.limit_num_status||s>=t.limit_num&&0!=t.limit_num&&0==t.is_buffet||s>=t.buffet_limit_num&&0!=t.buffet_limit_num&&1==t.is_buffet)return uni.showToast({title:F("已限購"),icon:"none"});if(!qe.value||Se.value||1!=t.is_buffet){if(Ee.value){if(qe.value&&1==t.is_buffet)return void gt(F("自助餐时间已到达，自助餐商品不可继续下单"))}else if(Se.value&&qe.value||Se.value)return void gt(F("用餐時間已到，無法添加商品"));if((null==t?void 0:t.sku.length)<=1&&0==(null==(l=null==t?void 0:t.product_attr)?void 0:l.length)&&0==(null==(a=null==t?void 0:t.feed)?void 0:a.length))return Le.value.action(e),p.addCart(t);L((()=>{1==J.value?J.value=!1:(J.value=!0,X.value=t)}))}else gt(F("點餐時間已到，無法繼續下單"))})(t,e)},{default:o((()=>[!e.product_stock||e.product_stock<=0?(i(),u(a,{key:0,class:"ti-goods-sold-out"},{default:o((()=>[O(U(S(F)("已售罄")),1)])),_:1})):1==e.limit_num_status?(i(),u(a,{key:1,class:"ti-goods-sold-out"},{default:o((()=>[O(U(S(F)("已限购")),1)])),_:1})):c("",!0),I(a,{class:"ti-goods-box"},{default:o((()=>[(null==e?void 0:e.limit_num)&&(null==e?void 0:e.limit_num)>0?(i(),u(a,{key:0,class:"ti-goods-quota"},{default:o((()=>[O(U(S(F)("限購{count}份",{count:null==e?void 0:e.limit_num})),1)])),_:2},1024)):c("",!0),I(a,{class:"ti-goods-image"},{default:o((()=>{var t;return[I(s,{offLine:!De.value,src:S(Q)(null==(t=e.image[0])?void 0:t.file_path,180,126)||"",class:R({"ti-goods-disabled":e.product_stock<=0||1==e.limit_num_status})},null,8,["offLine","src","class"]),rt(e.product_id)?(i(),u(a,{key:0,class:"cooking"},{default:o((()=>[I(r,{class:"cooking-image",src:Ve}),"1"==S(A).kitchen.is_open?(i(),u(a,{key:0,class:"cooking-text"},{default:o((()=>[1==e.is_show_kitchen?(i(),u(v,{key:0,style:{color:"green"}},{default:o((()=>[O(U(vt(e.product_id)),1)])),_:2},1024)):(i(),u(v,{key:1,style:{color:"green"}},{default:o((()=>[O(U(dt(e.product_id)),1)])),_:2},1024)),I(v,null,{default:o((()=>[O("/")])),_:1})])),_:2},1024)):c("",!0),I(a,{class:"cooking-text"},{default:o((()=>[I(v,null,{default:o((()=>[O(U(dt(e.product_id)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)):c("",!0)]})),_:2},1024),I(a,{class:"ti-goods-content"},{default:o((()=>[I(a,{class:"ti-goods-title line-clamp-2"},{default:o((()=>[O(U(e.product_name[S(P)()]||e.product_name_text||"-"),1)])),_:2},1024),I(a,{class:"ti-price-box"},{default:o((()=>[I(v,{class:"ti-goods-price"},{default:o((()=>[O(U(S(Y)((null==e?void 0:e.product_price)||0)),1)])),_:2},1024),I(v,{class:"ti-goods-subPrice",style:{display:"block"}},{default:o((()=>[O(U(S(G)((null==e?void 0:e.product_price)||0)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])])),empty:o((()=>[0===q.value.length?(i(),u(f,{key:0,title:De.value?"":S(F)("當前網絡異常，請聯繫服務員")},null,8,["title"])):c("",!0)])),after:o((()=>[0!=q.value.length?(i(),u(l,{key:0,status:H.value?"loading":"no-more"},null,8,["status"])):c("",!0)])),_:1},8,["item-secondary-size","items","grid-items"]))])),_:1}),oe(I(a,{class:"ti-car-order-nav"},{default:o((()=>[I(k,{ref_key:"ballRef",ref:Le,offset:150,size:23,duration:500},{default:o((({active:e})=>[I(a,{class:"ti-car-order"},{default:o((()=>[I(a,{class:"ti-order-total",onClick:bt},{default:o((()=>[I(r,{class:"ti-total-image",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAE9SURBVHgB7ZjxrcIgEMY/Xt4AbvAYwRHc4DmKbuAG6gR1A92g3UA3sE6gTnAesZqG1gLKSf/oL7nQwKV8Be6AAj1DPR6IaMTF6NmgVIlUGDFsR2qSVUJ7I8iQIwWVKF2zWU3UBH2AhexJhtx8dFufPw5NF8gwYTu2jbxLkIYsmV3hEiQdYdoepdSCGn38OpzXbP+Qo2Q7YCAA9aqhyhNbyK6jHe+Zcy9PFrQgec52v11R9o0IayTe1IJKu6JL0B8S4EqM0lztii5BGvIELWoNeU52ReopC4qyAvL472PmWECyZAiF5LJ1Ti9uM8pDlMb9yKnxOWbNHHj/KjDwJs4pq8PTN+VizFb4DHuofxD88qW1MGcx/UPFjFsi5RzLv84nmTr0eBL3OEPNnxGrmP7vCDKXuk2V1Bax/Qd8uQE+N6CHpHz4IAAAAABJRU5ErkJggg=="}),I(v,{class:"ti-total-price"},{default:o((()=>[O(U(S(Y)(S(w)||0)),1)])),_:1}),I(v,{class:"ti-total-subPrice"},{default:o((()=>[O(U(S(G)(S(w)||0)),1)])),_:1})])),_:1}),Ge.value?(i(),u(a,{key:0,class:"ti-total-badge-box"},{default:o((()=>[I(v,{class:"ti-total-badge"},{default:o((()=>[O(U(S(g)),1)])),_:1})])),_:1})):c("",!0),I(h,{class:"ti-keyboard-btn",loading:He.value,type:"primary",onClick:wt},{default:o((()=>[O(U(S(F)("下單")),1)])),_:1},8,["loading"])])),_:1})])),_:1},512)])),_:1},512),[[ne,De.value]])])),_:1}),I(tt,{show:J.value,"onUpdate:show":t[2]||(t[2]=e=>J.value=e),goodsDetail:X.value,onCancel:ht,onSuccess:_t},null,8,["show","goodsDetail"]),I(it,{class:"yx-999Index",show:Pe.value,"onUpdate:show":t[3]||(t[3]=e=>Pe.value=e),productList:Ue.value,onConfirm:At},null,8,["show","productList"]),I(x,{show:Qe.value,width:603.992,title:S(F)("我點的菜"),maskClick:!0,onChange:kt},{content:o((()=>[I(a,{class:"ti-drawer-content"},{default:o((()=>[I(a,{class:"ti-content-head"},{default:o((()=>[I(a,{class:"ti-switch-box"},{default:o((()=>[I(a,{class:R(ze.value?"ti-switch-on":"ti-switch-off"),onClick:t[4]||(t[4]=e=>Ct(!0))},{default:o((()=>[I(v,{class:R(ze.value?"ti-switch-text-on":"ti-switch-text-off")},{default:o((()=>[O(U(S(F)("未下單")),1)])),_:1},8,["class"])])),_:1},8,["class"]),I(a,{class:"ti-switch-space"}),I(a,{class:R(ze.value?"ti-switch-off":"ti-switch-on"),onClick:t[5]||(t[5]=e=>Ct(!1))},{default:o((()=>[I(v,{class:R(ze.value?"ti-switch-text-off":"ti-switch-text-on")},{default:o((()=>[O(U(S(F)("已下單")),1)])),_:1},8,["class"])])),_:1},8,["class"])])),_:1})])),_:1}),ze.value?(i(),u(at,{key:0,buyContinue:Ee.value,isOverTime:Se.value,isOrderOverTime:qe.value,onSuccess:Tt,onClose:t[6]||(t[6]=e=>Qe.value=!1),onChange:pt,onSendkitchenFail:xt},null,8,["buyContinue","isOverTime","isOrderOverTime"])):c("",!0),ze.value?c("",!0):(i(),u(st,{key:1,onClose:t[7]||(t[7]=e=>Qe.value=!1)}))])),_:1})])),footer:o((()=>[I(a)])),_:1},8,["show","title"]),I(E,{class:"ti-action-tips",show:ye.value,"onUpdate:show":t[8]||(t[8]=e=>ye.value=e),isCancelShow:!1,isConfirmShow:!0,onConfirm:t[9]||(t[9]=e=>ye.value=!1),title:S(F)("温馨提示"),content:Ie.value,confirmType:"danger"},{title:o((()=>[I(a,{class:"warning-header"},{default:o((()=>[I(a,{class:"warning-image-round"},{default:o((()=>[I(r,{class:"warning-image",src:Ce})])),_:1}),I(a,{class:"warning-text"},{default:o((()=>[O(U(S(F)("温馨提示")),1)])),_:1})])),_:1})])),_:1},8,["show","title","content"]),I(E,{class:"ti-action-tips",show:fe.value,"onUpdate:show":t[10]||(t[10]=e=>fe.value=e),isCancelShow:!1,onConfirm:t[11]||(t[11]=e=>fe.value=!1),confirmType:"danger"},{title:o((()=>[I(a,{class:"warning-header"},{default:o((()=>[I(a,{class:"warning-image-round"},{default:o((()=>[I(r,{class:"warning-image",src:Ce})])),_:1}),qe.value?(i(),u(a,{key:1,class:"warning-text"},{default:o((()=>[O(U(S(F)("點餐時間結束")),1)])),_:1})):(i(),u(a,{key:0,class:"warning-text"},{default:o((()=>[I(v,null,{default:o((()=>[O(U(S(F)("點餐")),1)])),_:1}),I(v,null,{default:o((()=>[O(U(S(F)("還有")),1)])),_:1}),I(v,{class:"warning-text red"},{default:o((()=>[O(U(me.value),1)])),_:1}),I(v,null,{default:o((()=>[O(U(S(F)("分鐘")),1)])),_:1})])),_:1}))])),_:1})])),content:o((()=>[qe.value?(i(),u(a,{key:1,class:"warning-text"},{default:o((()=>[O(U(S(F)("如有需要，請呼叫服務員")),1)])),_:1})):(i(),u(a,{key:0,class:"warning-text"},{default:o((()=>[I(v,null,{default:o((()=>[O(U(S(F)("請在剩餘時間完成選購")),1)])),_:1})])),_:1}))])),_:1},8,["show"]),I(E,{class:"ti-action-tips",show:$.value,"onUpdate:show":t[12]||(t[12]=e=>$.value=e),onConfirm:t[13]||(t[13]=e=>$.value=!1),isCancelShow:!1,confirmType:"danger",zIndex:810},{title:o((()=>[I(a,{class:"warning-header"},{default:o((()=>[I(a,{class:"warning-image-round"},{default:o((()=>[I(r,{class:"warning-image",src:Ce})])),_:1}),Se.value?(i(),u(a,{key:1,class:"warning-text"},{default:o((()=>[O(U(S(F)("用餐時間結束")),1)])),_:1})):(i(),u(a,{key:0,class:"warning-text"},{default:o((()=>[I(v,null,{default:o((()=>[O(U(S(F)("用餐")),1)])),_:1}),I(v,null,{default:o((()=>[O(U(S(F)("還有")),1)])),_:1}),I(v,{class:"warning-text red"},{default:o((()=>[O(U(pe.value),1)])),_:1}),I(v,null,{default:o((()=>[O(U(S(F)("分鐘")),1)])),_:1})])),_:1}))])),_:1})])),content:o((()=>[Se.value?(i(),u(a,{key:1,class:"warning-text"},{default:o((()=>[O(U(S(F)("如有需要，請呼叫服務員")),1)])),_:1})):(i(),u(a,{key:0,class:"warning-text"},{default:o((()=>[I(v,null,{default:o((()=>[O(U(S(F)("請盡快用餐,如有需要，請呼叫服務員")),1)])),_:1})])),_:1}))])),_:1},8,["show"]),I(E,{class:"ti-action-tips",show:_e.value,"onUpdate:show":t[14]||(t[14]=e=>_e.value=e),title:S(F)("温馨提示"),isCancelShow:!1,onConfirm:t[15]||(t[15]=e=>_e.value=!1),zIndex:120},{content:o((()=>[I(a,{class:"place-order-text"},{default:o((()=>[I(v,null,{default:o((()=>[O(U(Re.value),1)])),_:1})])),_:1}),I(N,{"scroll-y":"true",class:"place-scroll-content"},{default:o((()=>[(i(!0),n(y,null,b(Oe.value,((e,t)=>(i(),u(a,{class:"place-order-text",key:t},{default:o((()=>[I(v,{class:"place-srcoll-item"},{default:o((()=>[O(U(e.tablet_product_name_text),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1},8,["show","title"]),I(E,{class:"yx-action-tips",show:he.value,"onUpdate:show":t[16]||(t[16]=e=>he.value=e),isCancelShow:!1,isConfirmShow:!1},{title:o((()=>[I(a,{class:"warning-header"},{default:o((()=>[I(a,{class:"warning-image-round"},{default:o((()=>[I(r,{class:"warning-image",src:Je})])),_:1}),I(a,{class:"warning-text"},{default:o((()=>[O(U(S(F)("订单已锁定")),1)])),_:1})])),_:1})])),footer:o((()=>[I(a)])),_:1},8,["show"]),I(E,{class:"yx-action-tips",show:ge.value,"onUpdate:show":t[17]||(t[17]=e=>ge.value=e),isCancelShow:!1,isConfirmShow:!1},{title:o((()=>[I(a,{class:"warning-header"},{default:o((()=>[I(a,{class:"warning-image-round"},{default:o((()=>[I(r,{class:"warning-image",src:Je})])),_:1}),I(a,{class:"warning-text"},{default:o((()=>[O(U(S(F)("订单已结账")),1)])),_:1})])),_:1})])),footer:o((()=>[I(a)])),_:1},8,["show"]),I(E,{class:"ti-action-tips",show:be.value,"onUpdate:show":t[18]||(t[18]=e=>be.value=e),isCancelShow:!1,isConfirmShow:!0,onConfirm:t[19]||(t[19]=e=>be.value=!1),content:S(F)("當前網絡異常，請聯繫服務員")},{title:o((()=>[I(a,{class:"warning-header"},{default:o((()=>[I(a,{class:"warning-image-round"},{default:o((()=>[I(r,{class:"warning-image",src:je})])),_:1}),I(a,{class:"warning-text"},{default:o((()=>[O(U(S(F)("網絡異常")),1)])),_:1})])),_:1})])),_:1},8,["show","content"]),I(E,{class:"ti-action-tips",show:Fe.value,"onUpdate:show":t[20]||(t[20]=e=>Fe.value=e),isCancelShow:!1,isConfirmShow:!0,onConfirm:It,title:S(F)("温馨提示"),content:S(F)("網絡已恢復，可正常下單")},null,8,["show","title","content"])],64)}}},[["__scopeId","data-v-fb5e074b"]]),ot=a({__name:"opentable-index",setup(e){te(),j();const t=Z(),{userInfo:l}=N(t),a=s(!1),n=s(),c=s(!1),r=s(!0),v=s(!1);let f="";const _=()=>{r.value?g():v.value=!0},p=s(!1),m=s(!1),g=()=>{p.value=!0,m.value=!0},y=async e=>{if(e)try{const t=await ge({password:e});f=t.data.server_version,a.value=!0,b()}catch(t){"request:fail"==t.errMsg||"request:fail"==t.errmsg?uni.showToast({title:F("网络异常，请检查您的网络设置"),icon:"none"}):(t.errMsg||t.msg)&&uni.showToast({title:t.msg||t.errMsg,icon:"none"})}else uni.showToast({title:F("請輸入密碼"),icon:"none"})},b=()=>{p.value=!1,m.value=!1},w=()=>{a.value=!1};return ae("authorization",(e=>{c.value=!e})),ae("isConnect",(e=>{r.value=e})),h((async()=>{})),fe((()=>{var e;null==(e=n.value)||e.showBuffet(!0,0)})),(e,t)=>{const s=C(T("ti-layout-head"),ye),r=d,h=V,g=C(T("ti-modal"),we);return i(),u(r,{class:"ti-page",onClick:t[4]||(t[4]=e=>S(_e)())},{default:o((()=>[I(r,null,{default:o((()=>{var e,t;return[I(s,{ref_key:"refCallServer",ref:n,isPay:!0,isTableNo:!0,onDoubleLogo:_,is_call_service:parseInt(null==(t=null==(e=S(l))?void 0:e.tablet)?void 0:t.is_call_service)},null,8,["is_call_service"])]})),_:1}),I(ut),I(pe,{show:p.value,title:S(F)("密碼"),password:m.value,placeholder:S(F)("請輸入密碼"),onExit:b,onConfirm:y},null,8,["show","title","password","placeholder"]),I(me,{show:a.value,"onUpdate:show":t[0]||(t[0]=e=>a.value=e),serverVersionNum:S(f),onBindSuccess:w},null,8,["show","serverVersionNum"]),I(he,{show:c.value,"onUpdate:show":t[1]||(t[1]=e=>c.value=e)},null,8,["show"]),I(g,{class:"ti-action-tips",show:v.value,"onUpdate:show":t[2]||(t[2]=e=>v.value=e),isCancelShow:!1,isConfirmShow:!0,onConfirm:t[3]||(t[3]=e=>v.value=!1),content:S(F)("當前網絡異常，請聯繫服務員")},{title:o((()=>[I(r,{class:"warning-header"},{default:o((()=>[I(r,{class:"warning-image-round"},{default:o((()=>[I(h,{class:"warning-image",src:je})])),_:1}),I(r,{class:"warning-text"},{default:o((()=>[O(U(S(F)("網絡異常")),1)])),_:1})])),_:1})])),_:1},8,["show","content"])])),_:1})}}},[["__scopeId","data-v-1c3001a9"]]);export{ot as default};
